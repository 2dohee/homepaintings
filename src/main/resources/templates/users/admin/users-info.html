<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:replace="fragments.html :: head"></div>
<body class="bg-light">
<nav th:replace="fragments.html :: main-nav"></nav>

<div class="container">
    <div class="row">
        <div class="col-md-3 px-0">
            <nav th:replace="fragments.html :: side-menu"></nav>
        </div>
        <div class="col-md-9 col-md-offset-3 mt-5">
            <div class="py-4 text-center">
                <h4 class="mb-4 mt-1 text-center settings-title">회원 관리</h4>
            </div>
            <hr />
            <div class="row justify-content-center py-4">
                <div class="col-md-9">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">이메일</th>
                            <th scope="col">닉네임</th>
                            <th scope="col">연락처</th>
                            <th scope="col">인증 여부</th>
                            <th scope="col">생성일</th>
                        </tr>
                        </thead>
                        <tbody th:each="user: ${userList}">
                        <tr>
                            <th scope="row" th:text="${currentOffset + userStat.count}"></th>
                            <td th:text="${user.email}"></td>
                            <td th:text="${user.nickname}"></td>
                            <td th:text="${user.phoneNumber}"></td>
                            <td th:text="${user.emailVerified} ? 'Yes' : 'No'"></td>
                            <td><span class="date-time" th:text="${user.createdDateTime}"></span></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-md-9">
                    <nav>
                        <ul class="pagination justify-content-between">
                            <li class="page-item" th:classappend="${currentFirstPage < 10}? disabled">
                                <a th:href="@{'/admin/users-info?sort=createdDateTime,desc&page=' + ${currentFirstPage - 10}}"
                                   class="page-link"><i class="fa fa-long-arrow-left" aria-hidden="true"></i></a>
                            </li>
                            <div class="d-inline-flex justify-content-center">
                                <li class="page-item" th:classappend="${i == userList.getNumber()}? active"
                                    th:each="i : ${#numbers.sequence(currentFirstPage, currentLastPage, 1)}">
                                    <a th:href="@{'/admin/users-info?sort=createdDateTime,desc&page=' + ${i}}"
                                       class="page-link" th:text="${i + 1}"></a>
                                </li>
                            </div>
                            <li class="page-item" th:classappend="${currentLastPage >= userList.getTotalPages() - 1}? disabled">
                                <a th:href="@{'/admin/users-info?sort=createdDateTime,desc&page=' + ${currentLastPage + 1}}"
                                   class="page-link"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="fragments.html :: form-validation"></div>
<div th:include="fragments.html :: js-library" th:remove="tag"></div>
<div th:include="fragments.html :: korea-date-time" th:remove="tag"></div>

</body>
</html>